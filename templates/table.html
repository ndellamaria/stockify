{% extends "base.html" %}
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Tangerine">

<style>
  .w3-tangerine {
    font-family: 'Tangerine', serif;
  }
</style>

{% block content %}

<h1 class="w3-xxxlarge w3-center w3-light-green w3-tangerine">Stockify</h1>

  <form action="" method="post" novalidate>
  <div class="w3-display-container w3-center w3-bordered" style="padding-top: 40px; padding-bottom: 40px;">
      {{ form.hidden_tag() }}

        <table class="w3-display-middle">
          <tr>
            <td>{{ form.ticker.label }}</td>
            <td>{{ form.quantity.label }}</td>
          </tr>
          <tr>
            <td>{{ form.ticker(size = 20) }} </td>
            <td>{{ form.quantity(size = 5) }}</td>
            <td> {{ form.submit }} </td>
          </tr>
        </table>

        <!-- {{ form.submit() }} -->

    </div>

    {% if msg %}
    <h4>{{msg}}</h4>
    {% endif %}
    <hr>

    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <table>
      <tr>
        {% for message in messages %}
        <td>{{ message }}</td>
        {% endfor %}
      </tr>
    </table>
    {% endif %}
    {% endwith %}
  </form>


      {% with messages = get_flashed_messages() %}
      {% if messages %}
      <table>
        <tr>
          {% for message in messages %}
          <td>{{ message }}</td>
          {% endfor %}
        </tr>
      </table>
      {% endif %}
      {% endwith %}
    </form>


<div class="w3-container">
<table id="tableID" class="w3-table w3-border">
  <tr>
    <th> Ticker </th>
    <th> Quantity </th>
    <th> Current Price </th>
    <th> Opening Price </th>
    <th> Outcome </th>
  </tr>
    {% for stock in stockList %}
    {% if stockList[stock]['quantity'] > 0 %}
    <tbody>
      <tr>
        <td class = "w3-center">{{stockList[stock]['name']}}</td>
        <td class = "w3-center">{{stockList[stock]['quantity']}}</td>
        <td class = "w3-center">{{stockList[stock]['current_price']}}</td>
        <td class = "w3-center">{{stockList[stock]['opening_price']}}</td>
        <td class="w3-center {{ stock.color }}">{{stockList[stock]['change']}}</td>
      </tr>
    </tbody>
    {% endif %}
    {% endfor %}
  </table>
</div>

{% with messages = get_flashed_messages() %}
{% if messages %}
<table>
  <tr>
    {% for message in messages %}
      <td>{{ message }}</td>
    {% endfor %}
  </tr>
</table>
{% endif %}
{% endwith %}

<a href="/generate_playlist"><input type="button" value="Generate Playlist"></a>

<div class="w3-container">
  <form action="/generate_playlist" method="post" novalidate>

    {{ form.hidden_tag() }}

    <select name="genre" form="form" onchange="this.form.submit();">

      {% for genre in genres %}

        <option value= {{ genre }} SELECTED>{{ genre }}</option>

      {% endfor %}

    </select>


  </form>
</div>

{% endblock %}
