{% extends "base.html" %}

{% block content %}

  <h1 class="w3-xxxlarge w3 center">Stockify</h1>
    <form action="" method="post" novalidate>

      {{ form.hidden_tag() }}

      <table>
        <tr>
          <td>{{ form.ticker.label }}</td>
          <td>{{ form.quantity.label }}</td>
        </tr>
        <tr>
          <td>{{ form.ticker(size = 20) }} </td>
          <td>{{ form.quantity(size = 10) }}</td>
        </tr>
      </table>

      <p> {{ form.submit() }} </p>

      <hr>

      {% with messages = get_flashed_messages() %}
      {% if messages %}
      <table>
        <tr>
          {% for message in messages %}
          <td>{{ message }}</td>
          {% endfor %}
        </tr>
      </table>
      {% endif %}
      {% endwith %}
    </form>
<script src="{{url_for('static', filename='script.js')}}"></script>
<div class="w3-container">
<table id="tableID" class="w3-table w3-border">
  <tr>
    <th> Ticker </th>
    <th> Quantity </th>
    <th> Current Price </th>
    <th> Opening Price </th>
    <th> Outcome </th>
  </tr>
  {% for stock in stockList %}
  <tbody>
    <tr>
      <td>{{stock.name}}</td>
      <td>{{stock.quantity}}</td>
      <td>{{stock.current_price}}</td>
      <td>{{stock.opening_price}}</td>
      <td class={{ stock.color }}>{{stock.change}}</td>
    </tr>
  </tbody>
  {% endfor %}
</table>
</div>

<hr>

{% with messages = get_flashed_messages() %}
{% if messages %}
<table>
  <tr>
    {% for message in messages %}
      <td>{{ message }}</td>
    {% endfor %}
  </tr>
</table>
{% endif %}
{% endwith %}

<a href="/generate_playlist"><input type="button" value="Generate Playlist"></a>

{% endblock %}
